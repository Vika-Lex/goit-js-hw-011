{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43029074-bbcb488b86e9977f1b5ed3d25';\nconst spinner = document.querySelector('.loader-container');\n\nexport function getData(query) {\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(res => res.json())\n    .then(data => data)\n    .catch(err => {\n      iziToast.error({\n        message: err.message,\n        backgroundColor: '#FC3D03',\n        messageColor: '#fff',\n        close: false,\n        progressBarColor: '#fff',\n        position: 'topRight',\n        timeout: 1000,\n      });\n      console.log(err);\n      spinner.classList.add('hidden');\n    });\n}\n","export function creatMarkup(arr) {\n  return arr\n    .map(element => {\n      return `\n      <li>\n      <a href=\"${element.largeImageURL}\" alt=\"${element.tags}\">\n      <img width=\"300\" src=\"${element.webformatURL}\" alt=\"${element.tags}\"/>\n      <ul class=\"gallery__description-list gallery-description-list\">\n         <li class=\"gallery-description-list__item\">\n           <h3>Likes</h3>\n           <p>${element.likes}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Views</h3>\n           <p>${element.views}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Comments</h3>\n           <p>${element.comments}</p>\n         </li>\n         <li class=\"gallery-description-list__item\">\n           <h3>Downloads</h3>\n           <p>${element.downloads}</p>\n         </li>\n       </ul>\n\n      </a>\n    \n      </li>\n      `;\n    })\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getData } from './js/pixabay-api';\nimport { creatMarkup } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.css';\nconst refs = {\n  form: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  spinner: document.querySelector('.loader-container'),\n};\nlet gallery = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n});\n\nrefs.form.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  refs.spinner.classList.remove('hidden');\n  getData(event.target.elements.request.value).then(data => {\n    if (data.hits.length === 0) {\n      iziToast.show({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        backgroundColor: '#FC3D03',\n        messageColor: '#fff',\n        close: false,\n        progressBarColor: '#fff',\n        position: 'topRight',\n        timeout: 1000,\n      });\n      refs.spinner.classList.add('hidden');\n      event.target.reset();\n      return;\n    }\n    refs.gallery.innerHTML = '';\n    refs.gallery.insertAdjacentHTML('afterbegin', creatMarkup(data.hits));\n    gallery.refresh();\n    refs.spinner.classList.add('hidden');\n    event.target.reset();\n  });\n}\n"],"names":["BASE_URL","API_KEY","spinner","getData","query","res","data","err","iziToast","creatMarkup","arr","element","refs","gallery","SimpleLightbox","handleSubmit","event"],"mappings":"6vBAGA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAU,SAAS,cAAc,mBAAmB,EAEnD,SAASC,EAAQC,EAAO,CAC7B,OAAO,MACL,GAAGJ,CAAQ,QAAQC,CAAO,MAAMG,CAAK,0DACtC,EACE,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQA,CAAI,EACjB,MAAMC,GAAO,CACZC,EAAS,MAAM,CACb,QAASD,EAAI,QACb,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACjB,CAAO,EACD,QAAQ,IAAIA,CAAG,EACfL,EAAQ,UAAU,IAAI,QAAQ,CACpC,CAAK,CACL,CC1BO,SAASO,EAAYC,EAAK,CAC/B,OAAOA,EACJ,IAAIC,GACI;AAAA;AAAA,iBAEIA,EAAQ,aAAa,UAAUA,EAAQ,IAAI;AAAA,8BAC9BA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA,gBAIxDA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,gBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,gBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,gBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQ5B,EACA,KAAK,EAAE,CACZ,CC1BA,MAAMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,QAAS,SAAS,cAAc,mBAAmB,CACrD,EACA,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAC7C,SAAU,GACV,aAAc,KAChB,CAAC,EAEDF,EAAK,KAAK,iBAAiB,SAAUG,CAAY,EAEjD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpBJ,EAAK,QAAQ,UAAU,OAAO,QAAQ,EACtCT,EAAQa,EAAM,OAAO,SAAS,QAAQ,KAAK,EAAE,KAAKV,GAAQ,CACxD,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BE,EAAS,KAAK,CACZ,QACE,2EACF,gBAAiB,UACjB,aAAc,OACd,MAAO,GACP,iBAAkB,OAClB,SAAU,WACV,QAAS,GACjB,CAAO,EACDI,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCI,EAAM,OAAO,QACb,MACD,CACDJ,EAAK,QAAQ,UAAY,GACzBA,EAAK,QAAQ,mBAAmB,aAAcH,EAAYH,EAAK,IAAI,CAAC,EACpEO,EAAQ,QAAO,EACfD,EAAK,QAAQ,UAAU,IAAI,QAAQ,EACnCI,EAAM,OAAO,OACjB,CAAG,CACH"}